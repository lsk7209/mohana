(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var t=e.i(43476),n=e.i(47163);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function a({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>i,"CardHeader",()=>r,"CardTitle",()=>a])},81140,30030,e=>{"use strict";function t(e,n,{checkForDefaultPrevented:s=!0}={}){return function(t){if(e?.(t),!1===s||!t.defaultPrevented)return n?.(t)}}e.s(["composeEventHandlers",()=>t],81140);var n=e.i(71645),s=e.i(43476);function r(e,t){let r=n.createContext(t),a=e=>{let{children:t,...a}=e,i=n.useMemo(()=>a,Object.values(a));return(0,s.jsx)(r.Provider,{value:i,children:t})};return a.displayName=e+"Provider",[a,function(s){let a=n.useContext(r);if(a)return a;if(void 0!==t)return t;throw Error(`\`${s}\` must be used within \`${e}\``)}]}function a(e,t=[]){let r=[],i=()=>{let t=r.map(e=>n.createContext(e));return function(s){let r=s?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...s,[e]:r}}),[s,r])}};return i.scopeName=e,[function(t,a){let i=n.createContext(a),o=r.length;r=[...r,a];let l=t=>{let{scope:r,children:a,...l}=t,d=r?.[e]?.[o]||i,c=n.useMemo(()=>l,Object.values(l));return(0,s.jsx)(d.Provider,{value:c,children:a})};return l.displayName=t+"Provider",[l,function(s,r){let l=r?.[e]?.[o]||i,d=n.useContext(l);if(d)return d;if(void 0!==a)return a;throw Error(`\`${s}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=s.reduce((t,{useScope:n,scopeName:s})=>{let r=n(e)[`__scope${s}`];return{...t,...r}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return s.scopeName=t.scopeName,s}(i,...t)]}e.s(["createContext",()=>r,"createContextScope",()=>a],30030)},10772,34620,e=>{"use strict";var t=e.i(71645),n=globalThis?.document?t.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>n],34620);var s=t["useId".toString()]||(()=>void 0),r=0;function a(e){let[a,i]=t.useState(s());return n(()=>{e||i(e=>e??String(r++))},[e]),e||(a?`radix-${a}`:"")}e.s(["useId",()=>a],10772)},30207,e=>{"use strict";var t=e.i(71645);function n(e){let n=t.useRef(e);return t.useEffect(()=>{n.current=e}),t.useMemo(()=>(...e)=>n.current?.(...e),[])}e.s(["useCallbackRef",()=>n])},69340,e=>{"use strict";var t=e.i(71645),n=e.i(30207);function s({prop:e,defaultProp:s,onChange:r=()=>{}}){let[a,i]=function({defaultProp:e,onChange:s}){let r=t.useState(e),[a]=r,i=t.useRef(a),o=(0,n.useCallbackRef)(s);return t.useEffect(()=>{i.current!==a&&(o(a),i.current=a)},[a,i,o]),r}({defaultProp:s,onChange:r}),o=void 0!==e,l=o?e:a,d=(0,n.useCallbackRef)(r);return[l,t.useCallback(t=>{if(o){let n="function"==typeof t?t(e):t;n!==e&&d(n)}else i(t)},[o,e,i,d])]}e.s(["useControllableState",()=>s])},48425,e=>{"use strict";var t=e.i(71645),n=e.i(74080),s=e.i(91918),r=e.i(43476),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,n)=>{let a=t.forwardRef((e,t)=>{let{asChild:a,...i}=e,o=a?s.Slot:n;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(o,{...i,ref:t})});return a.displayName=`Primitive.${n}`,{...e,[n]:a}},{});function i(e,t){e&&n.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>a,"dispatchDiscreteCustomEvent",()=>i])},75830,e=>{"use strict";var t=e.i(71645),n=e.i(30030),s=e.i(20783),r=e.i(91918),a=e.i(43476);function i(e){let i=e+"CollectionProvider",[o,l]=(0,n.createContextScope)(i),[d,c]=o(i,{collectionRef:{current:null},itemMap:new Map}),u=e=>{let{scope:n,children:s}=e,r=t.default.useRef(null),i=t.default.useRef(new Map).current;return(0,a.jsx)(d,{scope:n,itemMap:i,collectionRef:r,children:s})};u.displayName=i;let f=e+"CollectionSlot",p=t.default.forwardRef((e,t)=>{let{scope:n,children:i}=e,o=c(f,n),l=(0,s.useComposedRefs)(t,o.collectionRef);return(0,a.jsx)(r.Slot,{ref:l,children:i})});p.displayName=f;let m=e+"CollectionItemSlot",h="data-radix-collection-item",x=t.default.forwardRef((e,n)=>{let{scope:i,children:o,...l}=e,d=t.default.useRef(null),u=(0,s.useComposedRefs)(n,d),f=c(m,i);return t.default.useEffect(()=>(f.itemMap.set(d,{ref:d,...l}),()=>void f.itemMap.delete(d))),(0,a.jsx)(r.Slot,{...{[h]:""},ref:u,children:o})});return x.displayName=m,[{Provider:u,Slot:p,ItemSlot:x},function(n){let s=c(e+"CollectionConsumer",n);return t.default.useCallback(()=>{let e=s.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${h}]`));return Array.from(s.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[s.collectionRef,s.itemMap])},l]}e.s(["createCollection",()=>i])},86318,e=>{"use strict";var t=e.i(71645);e.i(43476);var n=t.createContext(void 0);function s(e){let s=t.useContext(n);return e||s||"ltr"}e.s(["useDirection",()=>s])},31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},20682,23750,e=>{"use strict";e.i(71645);let t=0,n=new Map,s=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),i({type:"REMOVE_TOAST",toastId:e})},5e3);n.set(e,t)},r=[],a={toasts:[]};function i(e){a=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:n}=t;return n?s(n):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(a,e),r.forEach(e=>{e(a)})}function o({...e}){let n=(t=(t+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>i({type:"DISMISS_TOAST",toastId:n});return i({type:"ADD_TOAST",toast:{...e,id:n,open:!0,onOpenChange:e=>{e||s()}}}),{id:n,dismiss:s,update:e=>i({type:"UPDATE_TOAST",toast:{...e,id:n}})}}e.s(["toast",()=>o],20682);var l=e.i(43476),d=e.i(47163);function c({className:e,type:t,...n}){return(0,l.jsx)("input",{type:t,"data-slot":"input",className:(0,d.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}e.s(["Input",()=>c],23750)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},96626,e=>{"use strict";var t=e.i(71645),n=e.i(20783),s=e.i(34620),r=e=>{var r;let i,o,{present:l,children:d}=e,c=function(e){var n,r;let[i,o]=t.useState(),l=t.useRef({}),d=t.useRef(e),c=t.useRef("none"),[u,f]=(n=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>r[e][t]??e,n));return t.useEffect(()=>{let e=a(l.current);c.current="mounted"===u?e:"none"},[u]),(0,s.useLayoutEffect)(()=>{let t=l.current,n=d.current;if(n!==e){let s=c.current,r=a(t);e?f("MOUNT"):"none"===r||t?.display==="none"?f("UNMOUNT"):n&&s!==r?f("ANIMATION_OUT"):f("UNMOUNT"),d.current=e}},[e,f]),(0,s.useLayoutEffect)(()=>{if(i){let e,t=i.ownerDocument.defaultView??window,n=n=>{let s=a(l.current).includes(n.animationName);if(n.target===i&&s&&(f("ANIMATION_END"),!d.current)){let n=i.style.animationFillMode;i.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===i.style.animationFillMode&&(i.style.animationFillMode=n)})}},s=e=>{e.target===i&&(c.current=a(l.current))};return i.addEventListener("animationstart",s),i.addEventListener("animationcancel",n),i.addEventListener("animationend",n),()=>{t.clearTimeout(e),i.removeEventListener("animationstart",s),i.removeEventListener("animationcancel",n),i.removeEventListener("animationend",n)}}f("ANIMATION_END")},[i,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:t.useCallback(e=>{e&&(l.current=getComputedStyle(e)),o(e)},[])}}(l),u="function"==typeof d?d({present:c.isPresent}):t.Children.only(d),f=(0,n.useComposedRefs)(c.ref,(r=u,(o=(i=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in i&&i.isReactWarning)?r.ref:(o=(i=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in i&&i.isReactWarning)?r.props.ref:r.props.ref||r.ref));return"function"==typeof d||c.isPresent?t.cloneElement(u,{ref:f}):null};function a(e){return e?.animationName||"none"}r.displayName="Presence",e.s(["Presence",()=>r])},4156,e=>{"use strict";var t=e.i(43476),n=e.i(71645),s=e.i(70065),r=e.i(67881),a=e.i(94179),i=e.i(7233),o=e.i(75254);let l=(0,o.default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var d=e.i(20682),c=e.i(81140),u=e.i(20783),f=e.i(30030),p=e.i(10772),m=e.i(69340),h=e.i(26330),x=e.i(65491),v=e.i(74606),g=e.i(96626),y=e.i(48425),j=e.i(3536),b=e.i(85369),N=e.i(86312),C=e.i(91918),w="Dialog",[S,k]=(0,f.createContextScope)(w),[E,R]=S(w),_=e=>{let{__scopeDialog:s,children:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,d=n.useRef(null),c=n.useRef(null),[u=!1,f]=(0,m.useControllableState)({prop:a,defaultProp:i,onChange:o});return(0,t.jsx)(E,{scope:s,triggerRef:d,contentRef:c,contentId:(0,p.useId)(),titleId:(0,p.useId)(),descriptionId:(0,p.useId)(),open:u,onOpenChange:f,onOpenToggle:n.useCallback(()=>f(e=>!e),[f]),modal:l,children:r})};_.displayName=w;var O="DialogTrigger";n.forwardRef((e,n)=>{let{__scopeDialog:s,...r}=e,a=R(O,s),i=(0,u.useComposedRefs)(n,a.triggerRef);return(0,t.jsx)(y.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":G(a.open),...r,ref:i,onClick:(0,c.composeEventHandlers)(e.onClick,a.onOpenToggle)})}).displayName=O;var I="DialogPortal",[P,T]=S(I,{forceMount:void 0}),D=e=>{let{__scopeDialog:s,forceMount:r,children:a,container:i}=e,o=R(I,s);return(0,t.jsx)(P,{scope:s,forceMount:r,children:n.Children.map(a,e=>(0,t.jsx)(g.Presence,{present:r||o.open,children:(0,t.jsx)(v.Portal,{asChild:!0,container:i,children:e})}))})};D.displayName=I;var M="DialogOverlay",A=n.forwardRef((e,n)=>{let s=T(M,e.__scopeDialog),{forceMount:r=s.forceMount,...a}=e,i=R(M,e.__scopeDialog);return i.modal?(0,t.jsx)(g.Presence,{present:r||i.open,children:(0,t.jsx)($,{...a,ref:n})}):null});A.displayName=M;var $=n.forwardRef((e,n)=>{let{__scopeDialog:s,...r}=e,a=R(M,s);return(0,t.jsx)(b.RemoveScroll,{as:C.Slot,allowPinchZoom:!0,shards:[a.contentRef],children:(0,t.jsx)(y.Primitive.div,{"data-state":G(a.open),...r,ref:n,style:{pointerEvents:"auto",...r.style}})})}),F="DialogContent",L=n.forwardRef((e,n)=>{let s=T(F,e.__scopeDialog),{forceMount:r=s.forceMount,...a}=e,i=R(F,e.__scopeDialog);return(0,t.jsx)(g.Presence,{present:r||i.open,children:i.modal?(0,t.jsx)(U,{...a,ref:n}):(0,t.jsx)(z,{...a,ref:n})})});L.displayName=F;var U=n.forwardRef((e,s)=>{let r=R(F,e.__scopeDialog),a=n.useRef(null),i=(0,u.useComposedRefs)(s,r.contentRef,a);return n.useEffect(()=>{let e=a.current;if(e)return(0,N.hideOthers)(e)},[]),(0,t.jsx)(H,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,c.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,c.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:(0,c.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),z=n.forwardRef((e,s)=>{let r=R(F,e.__scopeDialog),a=n.useRef(!1),i=n.useRef(!1);return(0,t.jsx)(H,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||r.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));let n=t.target;r.triggerRef.current?.contains(n)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),H=n.forwardRef((e,s)=>{let{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=e,d=R(F,r),c=n.useRef(null),f=(0,u.useComposedRefs)(s,c);return(0,j.useFocusGuards)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.FocusScope,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:o,children:(0,t.jsx)(h.DismissableLayer,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":G(d.open),...l,ref:f,onDismiss:()=>d.onOpenChange(!1)})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Y,{titleId:d.titleId}),(0,t.jsx)(ee,{contentRef:c,descriptionId:d.descriptionId})]})]})}),q="DialogTitle",B=n.forwardRef((e,n)=>{let{__scopeDialog:s,...r}=e,a=R(q,s);return(0,t.jsx)(y.Primitive.h2,{id:a.titleId,...r,ref:n})});B.displayName=q;var V="DialogDescription",W=n.forwardRef((e,n)=>{let{__scopeDialog:s,...r}=e,a=R(V,s);return(0,t.jsx)(y.Primitive.p,{id:a.descriptionId,...r,ref:n})});W.displayName=V;var K="DialogClose",X=n.forwardRef((e,n)=>{let{__scopeDialog:s,...r}=e,a=R(K,s);return(0,t.jsx)(y.Primitive.button,{type:"button",...r,ref:n,onClick:(0,c.composeEventHandlers)(e.onClick,()=>a.onOpenChange(!1))})});function G(e){return e?"open":"closed"}X.displayName=K;var J="DialogTitleWarning",[Z,Q]=(0,f.createContext)(J,{contentName:F,titleName:q,docsSlug:"dialog"}),Y=({titleId:e})=>{let t=Q(J),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return n.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},ee=({contentRef:e,descriptionId:t})=>{let s=Q("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s.contentName}}.`;return n.useEffect(()=>{let n=e.current?.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null};let et=(0,o.default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var en=e.i(47163);function es({...e}){return(0,t.jsx)(_,{"data-slot":"dialog",...e})}function er({...e}){return(0,t.jsx)(D,{"data-slot":"dialog-portal",...e})}function ea({className:e,...n}){return(0,t.jsx)(A,{"data-slot":"dialog-overlay",className:(0,en.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...n})}function ei({className:e,children:n,showCloseButton:s=!0,...r}){return(0,t.jsxs)(er,{"data-slot":"dialog-portal",children:[(0,t.jsx)(ea,{}),(0,t.jsxs)(L,{"data-slot":"dialog-content",className:(0,en.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[n,s&&(0,t.jsxs)(X,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(et,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function eo({className:e,...n}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,en.cn)("flex flex-col gap-2 text-center sm:text-left",e),...n})}function el({className:e,...n}){return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,en.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...n})}function ed({className:e,...n}){return(0,t.jsx)(B,{"data-slot":"dialog-title",className:(0,en.cn)("text-lg leading-none font-semibold",e),...n})}function ec({className:e,...n}){return(0,t.jsx)(W,{"data-slot":"dialog-description",className:(0,en.cn)("text-muted-foreground text-sm",e),...n})}var eu=e.i(23750),ef=n.forwardRef((e,n)=>(0,t.jsx)(y.Primitive.label,{...e,ref:n,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));function ep({className:e,...n}){return(0,t.jsx)(ef,{"data-slot":"label",className:(0,en.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...n})}ef.displayName="Label";var em=e.i(62870),eh=e.i(99682),ex=e.i(35804),ev="Checkbox",[eg,ey]=(0,f.createContextScope)(ev),[ej,eb]=eg(ev),eN=n.forwardRef((e,s)=>{let{__scopeCheckbox:r,name:a,checked:i,defaultChecked:o,required:l,disabled:d,value:f="on",onCheckedChange:p,form:h,...x}=e,[v,g]=n.useState(null),j=(0,u.useComposedRefs)(s,e=>g(e)),b=n.useRef(!1),N=!v||h||!!v.closest("form"),[C=!1,w]=(0,m.useControllableState)({prop:i,defaultProp:o,onChange:p}),S=n.useRef(C);return n.useEffect(()=>{let e=v?.form;if(e){let t=()=>w(S.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[v,w]),(0,t.jsxs)(ej,{scope:r,state:C,disabled:d,children:[(0,t.jsx)(y.Primitive.button,{type:"button",role:"checkbox","aria-checked":ek(C)?"mixed":C,"aria-required":l,"data-state":eE(C),"data-disabled":d?"":void 0,disabled:d,value:f,...x,ref:j,onKeyDown:(0,c.composeEventHandlers)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,c.composeEventHandlers)(e.onClick,e=>{w(e=>!!ek(e)||!e),N&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})}),N&&(0,t.jsx)(eS,{control:v,bubbles:!b.current,name:a,value:f,checked:C,required:l,disabled:d,form:h,style:{transform:"translateX(-100%)"},defaultChecked:!ek(o)&&o})]})});eN.displayName=ev;var eC="CheckboxIndicator",ew=n.forwardRef((e,n)=>{let{__scopeCheckbox:s,forceMount:r,...a}=e,i=eb(eC,s);return(0,t.jsx)(g.Presence,{present:r||ek(i.state)||!0===i.state,children:(0,t.jsx)(y.Primitive.span,{"data-state":eE(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:n,style:{pointerEvents:"none",...e.style}})})});ew.displayName=eC;var eS=e=>{let{control:s,checked:r,bubbles:a=!0,defaultChecked:i,...o}=e,l=n.useRef(null),d=(0,eh.usePrevious)(r),c=(0,ex.useSize)(s);n.useEffect(()=>{let e=l.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==r&&t){let n=new Event("click",{bubbles:a});e.indeterminate=ek(r),t.call(e,!ek(r)&&r),e.dispatchEvent(n)}},[d,r,a]);let u=n.useRef(!ek(r)&&r);return(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...o,tabIndex:-1,ref:l,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ek(e){return"indeterminate"===e}function eE(e){return ek(e)?"indeterminate":e?"checked":"unchecked"}var eR=e.i(78784);function e_({className:e,...n}){return(0,t.jsx)(eN,{"data-slot":"checkbox",className:(0,en.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:(0,t.jsx)(ew,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(eR.CheckIcon,{className:"size-3.5"})})})}let eO=(0,o.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var eI=e.i(31278);function eP({open:e,onOpenChange:a,sequence:o,onSuccess:l}){let[c,u]=(0,n.useState)(""),[f,p]=(0,n.useState)([]),[m,h]=(0,n.useState)([]),[x,v]=(0,n.useState)(!1),[g,y]=(0,n.useState)(!1);async function j(){y(!0);try{let e=await fetch("/api/templates?channel=email"),t=await fetch("/api/templates?channel=sms"),n=await e.json(),s=await t.json();h([...(n.templates||[]).map(e=>({...e,channel:"email"})),...(s.templates||[]).map(e=>({...e,channel:"sms"}))])}catch(e){console.error("Error loading templates:",e)}finally{y(!1)}}function b(e,t,n){let s=[...f];s[e]={...s[e],[t]:n},p(s)}function N(e,t,n){let s=[...f];s[e].conditions||(s[e].conditions={}),n?s[e].conditions[t]=!0:(delete s[e].conditions[t],0===Object.keys(s[e].conditions).length&&delete s[e].conditions),p(s)}async function C(){if(!c.trim())return void(0,d.toast)({title:"오류",description:"시퀀스 이름을 입력해주세요.",variant:"destructive"});if(0===f.length)return void(0,d.toast)({title:"오류",description:"최소 1개의 스텝이 필요합니다.",variant:"destructive"});for(let e of f)if(!e.template_id)return void(0,d.toast)({title:"오류",description:"모든 스텝에 템플릿을 선택해주세요.",variant:"destructive"});v(!0);try{let e=o?`/api/sequences/${o.id}`:"/api/sequences",t=await fetch(e,{method:o?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c,steps:f})});if(!t.ok){let e=await t.json();throw Error(e.error||"저장 실패")}(0,d.toast)({title:"저장 완료",description:`시퀀스가 ${o?"수정":"생성"}되었습니다.`}),l?.(),a(!1)}catch(e){(0,d.toast)({title:"오류",description:e instanceof Error?e.message:"저장에 실패했습니다.",variant:"destructive"})}finally{v(!1)}}return(0,n.useEffect)(()=>{e&&j()},[e]),(0,n.useEffect)(()=>{o?(u(o.name),p(o.steps)):(u(""),p([{delay_hours:0,template_id:"",channel:"email"}]))},[o,e]),(0,t.jsx)(es,{open:e,onOpenChange:a,children:(0,t.jsxs)(ei,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(eo,{children:[(0,t.jsx)(ed,{children:o?"시퀀스 수정":"새 시퀀스"}),(0,t.jsxs)(ec,{children:["자동화 시퀀스를 ",o?"수정":"생성","합니다."]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ep,{children:"시퀀스 이름 *"}),(0,t.jsx)(eu.Input,{value:c,onChange:e=>u(e.target.value),placeholder:"예: 웰컴 시퀀스"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(ep,{children:"스텝"}),(0,t.jsxs)(r.Button,{type:"button",variant:"outline",size:"sm",onClick:function(){p([...f,{delay_hours:24*(f.length>0),template_id:"",channel:"email"}])},children:[(0,t.jsx)(i.Plus,{className:"h-4 w-4 mr-2"}),"스텝 추가"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:f.map((e,n)=>{let a,i=`step-${e.delay_hours}-${e.template_id}-${e.channel}-${n}`;return(0,t.jsx)(s.Card,{className:"p-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h4",{className:"font-medium",children:["스텝 ",n+1]}),f.length>1&&(0,t.jsx)(r.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{p(f.filter((e,t)=>t!==n))},children:(0,t.jsx)(eO,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ep,{children:"지연 시간 (시간)"}),(0,t.jsx)(eu.Input,{type:"number",min:"0",value:e.delay_hours,onChange:e=>b(n,"delay_hours",parseInt(e.target.value)||0),disabled:0===n}),0===n&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"첫 번째 스텝은 즉시 실행됩니다"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ep,{children:"채널 *"}),(0,t.jsxs)(em.Select,{value:e.channel,onValueChange:e=>{b(n,"channel",e),b(n,"template_id","")},children:[(0,t.jsx)(em.SelectTrigger,{children:(0,t.jsx)(em.SelectValue,{})}),(0,t.jsxs)(em.SelectContent,{children:[(0,t.jsx)(em.SelectItem,{value:"email",children:"이메일"}),(0,t.jsx)(em.SelectItem,{value:"sms",children:"SMS"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ep,{children:"템플릿 *"}),(0,t.jsxs)(em.Select,{value:e.template_id,onValueChange:e=>b(n,"template_id",e),disabled:g,children:[(0,t.jsx)(em.SelectTrigger,{children:(0,t.jsx)(em.SelectValue,{placeholder:"템플릿 선택"})}),(0,t.jsx)(em.SelectContent,{children:(a=e.channel,m.filter(e=>e.channel===a)).map(e=>(0,t.jsx)(em.SelectItem,{value:e.id,children:e.name},e.id))})]})]}),n>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ep,{children:"조건 (선택사항)"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(e_,{id:`condition-opened-${n}`,checked:e.conditions?.if_not_opened||!1,onCheckedChange:e=>N(n,"if_not_opened",e)}),(0,t.jsx)("label",{htmlFor:`condition-opened-${n}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"이전 이메일을 열지 않은 경우에만 발송"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(e_,{id:`condition-clicked-${n}`,checked:e.conditions?.if_not_clicked||!1,onCheckedChange:e=>N(n,"if_not_clicked",e)}),(0,t.jsx)("label",{htmlFor:`condition-clicked-${n}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"이전 이메일을 클릭하지 않은 경우에만 발송"})]})]})]})]})},i)})})]})]}),(0,t.jsxs)(el,{children:[(0,t.jsx)(r.Button,{variant:"outline",onClick:()=>a(!1),disabled:x,children:"취소"}),(0,t.jsx)(r.Button,{onClick:C,disabled:x,children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eI.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"저장 중..."]}):"저장"})]})]})})}function eT(){let[e,o]=(0,n.useState)([]),[c,u]=(0,n.useState)(!0),[f,p]=(0,n.useState)(!1),[m,h]=(0,n.useState)(null),[x,v]=(0,n.useState)(null);async function g(){u(!0);try{let e=await fetch("/api/sequences");if(e.ok){let t=await e.json();o(t.sequences||[])}}catch(e){console.error("Error fetching sequences:",e),(0,d.toast)({title:"오류",description:"시퀀스를 불러오는데 실패했습니다.",variant:"destructive"})}finally{u(!1)}}return((0,n.useEffect)(()=>{g()},[]),c)?(0,t.jsx)("div",{className:"text-center py-8",children:"로딩 중..."}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"시퀀스는 리드에게 자동으로 메시지를 발송하는 워크플로우입니다."})}),(0,t.jsxs)(r.Button,{onClick:function(){h(null),p(!0)},children:[(0,t.jsx)(i.Plus,{className:"h-4 w-4 mr-2"}),"새 시퀀스"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===e.length?(0,t.jsx)(s.Card,{className:"col-span-full",children:(0,t.jsx)(s.CardContent,{className:"py-12 text-center text-muted-foreground",children:"시퀀스가 없습니다. 새 시퀀스를 만들어보세요."})}):e.map(e=>(0,t.jsxs)(s.Card,{className:"hover:shadow-lg transition-shadow",children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(s.CardTitle,{className:"text-lg",children:e.name}),(0,t.jsxs)(a.Badge,{className:"mt-2",children:[e.steps.length,"개 스텝"]})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:()=>{h(e),p(!0)},children:(0,t.jsx)(l,{className:"h-4 w-4"})})})]})}),(0,t.jsx)(s.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[e.steps.slice(0,3).map((n,s)=>{let r=`${e.id}-step-${n.delay_hours}-${n.template_id}-${n.channel}-${s}`;return(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[0===s?"즉시":`+${n.delay_hours}시간`,": ","email"===n.channel?"이메일":"SMS"]},r)}),e.steps.length>3&&(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["+",e.steps.length-3,"개 더..."]})]})})]},e.id))}),(0,t.jsx)(eP,{open:f,onOpenChange:p,sequence:m,onSuccess:function(){p(!1),g()}})]})}e.s(["SequencesList",()=>eT],4156)}]);