(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78583,e=>{"use strict";let a=(0,e.i(75254).default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>a],78583)},61911,25652,e=>{"use strict";var a=e.i(75254);let t=(0,a.default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);e.s(["Users",()=>t],61911);let r=(0,a.default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>r],25652)},86311,e=>{"use strict";let a=(0,e.i(75254).default)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);e.s(["MessageSquare",()=>a],86311)},31278,e=>{"use strict";let a=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>a],31278)},42655,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(31278);function s({message:e="로딩 중..."}){return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,a.jsx)(r.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground mb-4"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e})]})}var l=e.i(67881),d=e.i(75254);let n=(0,d.default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),i=(0,d.default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function c({currentPage:e,totalPages:t,onPageChange:r}){return t<=1?null:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>r(e-1),disabled:1===e,children:(0,a.jsx)(n,{className:"h-4 w-4"})}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,t)},(s,d)=>{let n;return n=t<=5||e<=3?d+1:e>=t-2?t-4+d:e-2+d,(0,a.jsx)(l.Button,{variant:e===n?"default":"outline",size:"sm",onClick:()=>r(n),children:n},n)})}),(0,a.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>r(e+1),disabled:e===t,children:(0,a.jsx)(i,{className:"h-4 w-4"})})]})}var o=e.i(22016);let x={new:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300",in_progress:"bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-300",quoted:"bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-300",won:"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300",lost:"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300",on_hold:"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300"},g={new:"신규",in_progress:"상담 중",quoted:"견적 발송",won:"완료",lost:"보류",on_hold:"보류"},m=[{key:"new",label:"신규"},{key:"in_progress",label:"상담 중"},{key:"quoted",label:"견적 발송"},{key:"won",label:"완료"},{key:"on_hold",label:"보류"}];function h(){let[e,r]=(0,t.useState)([]),[l,d]=(0,t.useState)(!0),[n,i]=(0,t.useState)("all"),[h,y]=(0,t.useState)(""),[u,p]=(0,t.useState)(1),[b,k]=(0,t.useState)(1),[f,j]=(0,t.useState)(null),[w,N]=(0,t.useState)("kanban");if((0,t.useEffect)(()=>{!async function(){try{let e=new URLSearchParams;"all"!==n&&e.set("status",n),h.trim()&&e.set("search",h.trim()),e.set("limit","100"),e.set("offset",String((u-1)*100));let a=`/api/admin/leads${e.toString()?"?"+e.toString():""}`,t=await fetch(a),s=await t.json();r(s.leads||[]),k(Math.ceil((s.total||0)/100))}catch(e){console.error("Error fetching leads:",e)}finally{d(!1)}}()},[n,h,u]),l)return(0,a.jsx)(s,{message:"리드를 불러오는 중..."});let v=m.reduce((a,t)=>(a[t.key]=e.filter(e=>e.status===t.key),a),{});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 rounded-xl p-6 border border-gray-200 dark:border-gray-700 bg-white dark:bg-background-dark/50",children:[(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300 text-base font-medium leading-normal",children:"총 리드 수"}),(0,a.jsx)("p",{className:"text-gray-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:e.length}),(0,a.jsxs)("p",{className:"text-green-600 dark:text-green-500 text-sm font-medium leading-normal flex items-center",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-base",children:"arrow_upward"})," +5.2%"]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 rounded-xl p-6 border border-gray-200 dark:border-gray-700 bg-white dark:bg-background-dark/50",children:[(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300 text-base font-medium leading-normal",children:"진행률"}),(0,a.jsx)("p",{className:"text-gray-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:"15.8%"}),(0,a.jsxs)("p",{className:"text-red-600 dark:text-red-500 text-sm font-medium leading-normal flex items-center",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-base",children:"arrow_downward"})," -1.1%"]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 rounded-xl p-6 border border-gray-200 dark:border-gray-700 bg-white dark:bg-background-dark/50",children:[(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300 text-base font-medium leading-normal",children:"평균 응답 시간"}),(0,a.jsx)("p",{className:"text-gray-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:"2.5 hours"}),(0,a.jsxs)("p",{className:"text-green-600 dark:text-green-500 text-sm font-medium leading-normal flex items-center",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-base",children:"arrow_upward"})," +0.3 hours"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"relative w-64",children:[(0,a.jsx)("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"search"}),(0,a.jsx)("input",{className:"w-full h-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 pl-10 pr-4 text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-primary/50 focus:border-primary/50",placeholder:"회사명, 담당자 검색...",type:"text",value:h,onChange:e=>y(e.target.value)})]}),(0,a.jsxs)("button",{className:"flex items-center justify-center rounded-lg h-10 px-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 text-sm font-medium",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-lg mr-1",children:"filter_list"}),"필터"]})]}),(0,a.jsxs)("div",{className:"flex h-10 items-center justify-center rounded-lg bg-gray-100 dark:bg-gray-800 p-1 w-full sm:w-auto",children:[(0,a.jsxs)("label",{className:"flex cursor-pointer h-full grow items-center justify-center overflow-hidden rounded-md px-4 has-[:checked]:bg-white dark:has-[:checked]:bg-gray-700 has-[:checked]:shadow-sm text-gray-500 has-[:checked]:text-gray-900 dark:has-[:checked]:text-white text-sm font-medium leading-normal",children:[(0,a.jsx)("span",{className:"truncate",children:"Kanban View"}),(0,a.jsx)("input",{checked:"kanban"===w,className:"invisible w-0",name:"view-toggle",type:"radio",value:"Kanban View",onChange:()=>N("kanban")})]}),(0,a.jsxs)("label",{className:"flex cursor-pointer h-full grow items-center justify-center overflow-hidden rounded-md px-4 has-[:checked]:bg-white dark:has-[:checked]:bg-gray-700 has-[:checked]:shadow-sm text-gray-500 has-[:checked]:text-gray-900 dark:has-[:checked]:text-white text-sm font-medium leading-normal",children:[(0,a.jsx)("span",{className:"truncate",children:"Table View"}),(0,a.jsx)("input",{checked:"table"===w,className:"invisible w-0",name:"view-toggle",type:"radio",value:"Table View",onChange:()=>N("table")})]})]})]}),"kanban"===w?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:m.map(e=>{let t=v[e.key]||[];return(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"font-bold text-gray-800 dark:text-gray-200",children:[e.label," (",t.length,")"]}),(0,a.jsx)("button",{className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white",children:(0,a.jsx)("span",{className:"material-symbols-outlined",children:"more_horiz"})})]}),(0,a.jsx)("div",{className:"flex flex-col gap-4",children:t.map(e=>(0,a.jsxs)(o.default,{href:`/admin/leads/${e.id}`,className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-background-dark/50 p-4 cursor-pointer hover:shadow-lg transition-shadow",children:[(0,a.jsx)("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${x[e.status]}`,children:g[e.status]}),(0,a.jsx)("h4",{className:"mt-2 font-bold text-gray-900 dark:text-white",children:e.company||"회사명 없음"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.name||"-"}),(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Score"}),(0,a.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"85"})]})]},e.id))})]},e.key)})}):(0,a.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[(0,a.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 font-medium",scope:"col",children:"회사명"}),(0,a.jsx)("th",{className:"px-6 py-3 font-medium",scope:"col",children:"담당자"}),(0,a.jsx)("th",{className:"px-6 py-3 font-medium",scope:"col",children:"이메일"}),(0,a.jsx)("th",{className:"px-6 py-3 font-medium",scope:"col",children:"상태"}),(0,a.jsx)("th",{className:"px-6 py-3 font-medium",scope:"col",children:"생성일"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:0===e.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"리드가 없습니다"})}):e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer",onClick:()=>window.location.href=`/admin/leads/${e.id}`,children:[(0,a.jsx)("td",{className:"px-6 py-4 font-medium text-dark-gray-text dark:text-white",children:e.company||"-"}),(0,a.jsx)("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:e.name||"-"}),(0,a.jsx)("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:e.email}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium ${x[e.status]}`,children:g[e.status]})}),(0,a.jsx)("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:new Date(e.created_at).toLocaleDateString("ko-KR")})]},e.id))})]})})}),e.length>0&&"table"===w&&(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)(c,{currentPage:u,totalPages:b,onPageChange:p})})]})}e.s(["LeadsBoard",()=>h],42655)}]);